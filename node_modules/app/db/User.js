var mongoose = require('app/db/mongoose_connect.js');
var Schema = mongoose.Schema;
var ObjectId = Schema.Types.ObjectId;

var Globals = require('app/helpers/Globals.js');


var customSchema = new Schema({
        udid: {type: String, required: true},
        secret_key : {type: String},
        zipcode: {type: String, required: true},
        notification_time: {type: String},
        last_notification_date : {type: Date},
        onesignal_id : {type: String},
        push_tokens : [{os: String, token: String}]
    },
    {timestamps: {createdAt: 'dateCreated', updatedAt: 'dateUpdated'}}
);

customSchema.virtual('').get(function () {
});


customSchema.pre("save", function (next) {
    next();
});

customSchema.post("init", function (doc) {

});

customSchema.statics.sendPushNotifications = function(users, title, message){

};

customSchema.methods.sendPushNotification = function(title, message){

};

module.exports = mongoose.model('User', customSchema);