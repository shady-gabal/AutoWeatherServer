var Globals = require('app/helpers/Globals.js');
var onesignal = require('node-opensignal-api');
var onesignal_client = onesignal.createClient();

var helper = {
    sendPushNotification : function(onesignal_ids, title, message, callback){
        var params = {
            app_id: process.env.ONESIGNAL_APP_ID,
            contents: {
                'en': message
            },
            headings: {
                'en' : title
            },
            //ios_badgeType: "Increase",
            ios_badgeCount: 0,
            include_player_ids: onesignal_ids
        };

        onesignal_client.notifications.create(process.env.ONESIGNAL_API_KEY, params, callback);
    }

}

module.exports = helper;